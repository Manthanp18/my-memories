{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Manthan\\\\Desktop\\\\Book app\\\\frontend\\\\src\\\\components\\\\CreateMemory.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport '../App.css'; // import FileBase from 'react-file-base64'\n\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass CreateMemories extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      selectedFile: null\n    };\n\n    this.fileSelected = event => {\n      this.setState({\n        productImage: event.target.files[0]\n      });\n    };\n\n    this.fileUploadHandler = () => {\n      const fd = new FormData();\n      fd.append('image', this.state.productImage, this.state.productImage.name);\n      console.log(fd);\n      axios.post('http://localhost:5000/memories', fd).then(response => {\n        console.log(response);\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        onChange: this.fileSelected\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.fileUploadHandler,\n        children: \"upload\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default CreateMemories; // class CreateMemories extends Component {\n//   constructor () {\n//     super()\n//     this.state = {\n//       title: '',\n//       creator: '',\n//       message: '',\n//       productImage:''\n//     }\n//   }\n//   onChange = e => {\n//     this.setState({ [e.target.name]: e.target.value[0] })\n//   }\n//   onChange2 = e => {\n//     this.setState({ productImage: e.target.files[0] })\n//   }\n//   //   changeHandler = e => {\n//   //     // const file = e.target.files[0];\n//   //     // console.log(e.target.files[0])\n//   //     this.setState({ productImage: e.target.files[0] })\n//   //     console.log(this.state)\n//   //  }\n//   saveHandler = e => {\n//     e.preventDefault()\n//     const formData = new FormData()\n//     formData.append('productImage', this.state.productImage );\n//     console.log(this.state.productImage);\n//     axios\n//       .post('http://localhost:5000/memories',)\n//       .then(res => {\n//         console.log(this.state)\n//       })\n//       .catch(error => {\n//         console.log(error)\n//       })\n//   }\n//   // onSubmit = e => {\n//   //   e.preventDefault()\n//   //   const data = {\n//   //     title: this.state.title,\n//   //     creator: this.state.creator,\n//   //     message: this.state.message,\n//   //     productImage: this.state.productImage,\n//   //     date: this.state.date,\n//   //   }\n//   //   axios\n//   //     .post('http://localhost:5000/memories', data)\n//   //     .then(res => {\n//   //       this.setState({\n//   //         title: '',\n//   //         creator:'',\n//   //         message:'',\n//   //         productImage:'',\n//   //         date:'',\n//   //       })\n//   //       this.props.history.push('/')\n//   //     })\n//   //     .catch(err => {\n//   //       console.log('Error in CreateMemories!')\n//   //     })\n//   // }\n//   render () {\n//     // const { title, creator, message, productImage } = this.state\n//     return (\n//       <div className='CreateBook'>\n//         <div className='container'>\n//           <div className='row'>\n//             <div className='col-md-8 m-auto'>\n//               <br />\n//               <Link to='/' className='btn btn-outline-warning float-left'>\n//                 Show Memories List\n//               </Link>\n//             </div>\n//             <div className='col-md-8 m-auto'>\n//               <h1 className='display-4 text-center'>Add Memories</h1>\n//               <p className='lead text-center'>Create new Memories</p>\n//               <form noValidate onSubmit={this.saveHandler}>\n//                 <div className='form-group'>\n//                   <input\n//                     type='text'\n//                     placeholder='Title of the Memories'\n//                     name='title'\n//                     className='form-control'\n//                     value={this.state.title}\n//                     onChange={this.onChange}\n//                   />\n//                 </div>\n//                 <br />\n//                 <div className='form-group'>\n//                   <input\n//                     type='text'\n//                     placeholder='Creator'\n//                     name='creator'\n//                     className='form-control'\n//                     value={this.state.creator}\n//                     onChange={this.onChange}\n//                   />\n//                 </div>\n//                 <div className='form-group'>\n//                   <input\n//                     type='text'\n//                     placeholder='Message'\n//                     name='message'\n//                     className='form-control'\n//                     value={this.state.message}\n//                     onChange={this.onChange}\n//                   />\n//                 </div>\n//                 <div className='form-group'>\n//                   <input\n//                     type='file'\n//                     placeholder='img'\n//                     name='productImage'\n//                     className='form-control'\n//                     value={this.state.productImage}\n//                     onChange={this.onChange}\n//                   />\n//                 </div>\n//                 {/* <div className='form-group'>\n//                   <input\n//                     type='text'\n//                     placeholder='Date'\n//                     name='date'\n//                     className='form-control'\n//                     value={this.state.date}\n//                     onChange={this.onChange}\n//                   />\n//                 </div> */}\n//                 <input\n//                   type='submit'\n//                   className='btn btn-outline-warning btn-block mt-4'\n//                 />\n//               </form>\n//             </div>\n//           </div>\n//         </div>\n//       </div>\n//     )\n//   }\n// }\n// export default CreateMemories","map":{"version":3,"sources":["C:/Users/Manthan/Desktop/Book app/frontend/src/components/CreateMemory.js"],"names":["React","Component","Link","axios","CreateMemories","state","selectedFile","fileSelected","event","setState","productImage","target","files","fileUploadHandler","fd","FormData","append","name","console","log","post","then","response","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAO,YAAP,C,CACA;;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAEA,MAAMC,cAAN,SAA6BH,SAA7B,CAAuC;AAAA;AAAA;AAAA,SACrCI,KADqC,GAC7B;AACNC,MAAAA,YAAY,EAAE;AADR,KAD6B;;AAAA,SAIrCC,YAJqC,GAItBC,KAAK,IAAI;AACtB,WAAKC,QAAL,CAAc;AACZC,QAAAA,YAAY,EAAEF,KAAK,CAACG,MAAN,CAAaC,KAAb,CAAmB,CAAnB;AADF,OAAd;AAGD,KARoC;;AAAA,SAUrCC,iBAVqC,GAUjB,MAAM;AACxB,YAAMC,EAAE,GAAG,IAAIC,QAAJ,EAAX;AACAD,MAAAA,EAAE,CAACE,MAAH,CAAU,OAAV,EAAmB,KAAKX,KAAL,CAAWK,YAA9B,EAA4C,KAAKL,KAAL,CAAWK,YAAX,CAAwBO,IAApE;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYL,EAAZ;AACAX,MAAAA,KAAK,CAACiB,IAAN,CAAW,gCAAX,EAA6CN,EAA7C,EAAiDO,IAAjD,CAAsDC,QAAQ,IAAI;AAChEJ,QAAAA,OAAO,CAACC,GAAR,CAAYG,QAAZ;AACD,OAFD;AAGD,KAjBoC;AAAA;;AAmBrCC,EAAAA,MAAM,GAAI;AACR,wBACE;AAAA,8BACE;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,QAAQ,EAAE,KAAKhB;AAAlC;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAQ,QAAA,OAAO,EAAE,KAAKM,iBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAMD;;AA1BoC;;AA4BvC,eAAeT,cAAf,C,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA","sourcesContent":["import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport '../App.css'\r\n// import FileBase from 'react-file-base64'\r\nimport axios from 'axios'\r\n\r\nclass CreateMemories extends Component {\r\n  state = {\r\n    selectedFile: null\r\n  }\r\n  fileSelected = event => {\r\n    this.setState({\r\n      productImage: event.target.files[0]\r\n    })\r\n  }\r\n\r\n  fileUploadHandler = () => {\r\n    const fd = new FormData()\r\n    fd.append('image', this.state.productImage, this.state.productImage.name)\r\n    console.log(fd)\r\n    axios.post('http://localhost:5000/memories', fd).then(response => {\r\n      console.log(response)\r\n    })\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <div>\r\n        <input type='file' onChange={this.fileSelected}></input>\r\n        <button onClick={this.fileUploadHandler}>upload</button>\r\n      </div>\r\n    )\r\n  }\r\n}\r\nexport default CreateMemories\r\n\r\n// class CreateMemories extends Component {\r\n//   constructor () {\r\n//     super()\r\n//     this.state = {\r\n//       title: '',\r\n//       creator: '',\r\n//       message: '',\r\n//       productImage:''\r\n//     }\r\n//   }\r\n\r\n//   onChange = e => {\r\n//     this.setState({ [e.target.name]: e.target.value[0] })\r\n//   }\r\n\r\n//   onChange2 = e => {\r\n//     this.setState({ productImage: e.target.files[0] })\r\n//   }\r\n//   //   changeHandler = e => {\r\n//   //     // const file = e.target.files[0];\r\n//   //     // console.log(e.target.files[0])\r\n//   //     this.setState({ productImage: e.target.files[0] })\r\n//   //     console.log(this.state)\r\n//   //  }\r\n\r\n//   saveHandler = e => {\r\n//     e.preventDefault()\r\n//     const formData = new FormData()\r\n//     formData.append('productImage', this.state.productImage );\r\n//     console.log(this.state.productImage);\r\n\r\n//     axios\r\n//       .post('http://localhost:5000/memories',)\r\n//       .then(res => {\r\n//         console.log(this.state)\r\n//       })\r\n//       .catch(error => {\r\n//         console.log(error)\r\n//       })\r\n//   }\r\n//   // onSubmit = e => {\r\n//   //   e.preventDefault()\r\n\r\n//   //   const data = {\r\n//   //     title: this.state.title,\r\n//   //     creator: this.state.creator,\r\n//   //     message: this.state.message,\r\n//   //     productImage: this.state.productImage,\r\n//   //     date: this.state.date,\r\n\r\n//   //   }\r\n\r\n//   //   axios\r\n//   //     .post('http://localhost:5000/memories', data)\r\n//   //     .then(res => {\r\n//   //       this.setState({\r\n//   //         title: '',\r\n//   //         creator:'',\r\n//   //         message:'',\r\n//   //         productImage:'',\r\n//   //         date:'',\r\n\r\n//   //       })\r\n//   //       this.props.history.push('/')\r\n//   //     })\r\n//   //     .catch(err => {\r\n//   //       console.log('Error in CreateMemories!')\r\n//   //     })\r\n//   // }\r\n\r\n//   render () {\r\n//     // const { title, creator, message, productImage } = this.state\r\n//     return (\r\n//       <div className='CreateBook'>\r\n//         <div className='container'>\r\n//           <div className='row'>\r\n//             <div className='col-md-8 m-auto'>\r\n//               <br />\r\n//               <Link to='/' className='btn btn-outline-warning float-left'>\r\n//                 Show Memories List\r\n//               </Link>\r\n//             </div>\r\n//             <div className='col-md-8 m-auto'>\r\n//               <h1 className='display-4 text-center'>Add Memories</h1>\r\n//               <p className='lead text-center'>Create new Memories</p>\r\n\r\n//               <form noValidate onSubmit={this.saveHandler}>\r\n//                 <div className='form-group'>\r\n//                   <input\r\n//                     type='text'\r\n//                     placeholder='Title of the Memories'\r\n//                     name='title'\r\n//                     className='form-control'\r\n//                     value={this.state.title}\r\n//                     onChange={this.onChange}\r\n//                   />\r\n//                 </div>\r\n//                 <br />\r\n\r\n//                 <div className='form-group'>\r\n//                   <input\r\n//                     type='text'\r\n//                     placeholder='Creator'\r\n//                     name='creator'\r\n//                     className='form-control'\r\n//                     value={this.state.creator}\r\n//                     onChange={this.onChange}\r\n//                   />\r\n//                 </div>\r\n\r\n//                 <div className='form-group'>\r\n//                   <input\r\n//                     type='text'\r\n//                     placeholder='Message'\r\n//                     name='message'\r\n//                     className='form-control'\r\n//                     value={this.state.message}\r\n//                     onChange={this.onChange}\r\n//                   />\r\n//                 </div>\r\n//                 <div className='form-group'>\r\n//                   <input\r\n//                     type='file'\r\n//                     placeholder='img'\r\n//                     name='productImage'\r\n//                     className='form-control'\r\n//                     value={this.state.productImage}\r\n//                     onChange={this.onChange}\r\n//                   />\r\n//                 </div>\r\n\r\n//                 {/* <div className='form-group'>\r\n//                   <input\r\n//                     type='text'\r\n//                     placeholder='Date'\r\n//                     name='date'\r\n//                     className='form-control'\r\n//                     value={this.state.date}\r\n//                     onChange={this.onChange}\r\n//                   />\r\n//                 </div> */}\r\n\r\n//                 <input\r\n//                   type='submit'\r\n//                   className='btn btn-outline-warning btn-block mt-4'\r\n//                 />\r\n//               </form>\r\n//             </div>\r\n//           </div>\r\n//         </div>\r\n//       </div>\r\n//     )\r\n//   }\r\n// }\r\n\r\n// export default CreateMemories\r\n"]},"metadata":{},"sourceType":"module"}